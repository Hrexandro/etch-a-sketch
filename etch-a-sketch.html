<style>
.square {
    background-color:black;
    opacity: 0;
    border-image-width: 0;
}

body {
    background-color:blanchedalmond;
}

button {
 text-align: center;
 display: block;
 margin-left: auto;
 margin-right: auto;
 margin-bottom: 10px;
}

#mainDiv {
    margin: 0 auto;
    width: 1000px;
}

#gridDiv {
    display: grid;
    height:800px;
    width:800px;
    row-gap: 0px;
    column-gap:0px;
    box-sizing:initial;
    background-color:white;
}

</style>
<html>
<head>
    <title>Etch-a-Sketch</title>
    
</head>
<body>
<h1>Etch-a-Sketch</h1>
<div id="mainDiv">
    <div id="gridDiv"></div>
    <button id="clear">Clear grid</button>
</div>
<script>
let squares = gridDiv.children

let button = document.getElementById("clear")

function generateGrid() {
    let gridSide = prompt("enter number of squares per side of grid")

    for (i=0;i<squares.length;i++){
        squares[i].style.opacity='0'
        }
    

    
    if (isNaN(gridSide)||!Number.isInteger(Number(gridSide))||gridSide<=0||gridSide>=100) {
        alert("please enter a positive integer under 100")
        console.log(gridSide)
        console.log(isNaN(gridSide))
        console.log(!Number.isInteger(gridSide))
        console.log(gridSide<0)
    }
    
    else {
        gridDiv.style.gridTemplateColumns=`repeat(${gridSide}, 1fr)`;
        gridDiv.style.gridTemplateRows=`repeat(${gridSide}, 1fr)`;
        for (i=0;i<gridSide*gridSide;i++){
            let div = document.createElement('div');
            document.getElementById('gridDiv').appendChild(div);
            //console.log(`added div number ${i+1}`);
        }

        for (i=0;i<squares.length;i++){
        squares[i].classList.add('square');
        squares[i].addEventListener('mousemove',(e)=>{
            //random color
            //event.target.style.backgroundColor=`rgb(${Math.floor((Math.random() * 100) + 1)},${Math.floor((Math.random() * 100) + 1)},${Math.floor((Math.random() * 100) + 1)})` 
            
            event.target.style.opacity=Number(event.target.style.opacity)+Number('0.15');
  
           })
        }
    }
}
button.addEventListener('click', generateGrid)
generateGrid()
</script>
</body>

</html>